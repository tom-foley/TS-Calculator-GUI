!function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){var n,i;n=[r,t,r(1)],i=function(e,t,n){"use strict";r(5),new n.CalculatorGUI(document.getElementById("calculator-gui-container"))}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r,t,r(2),r(3)],i=function(e,t,r,n){"use strict";var i=r.HTMLAttrKeyValuePair,s=r.HTMLElementProperties,o=r.HTMLEventKeyValuePair,u=function(){function e(e,t){this.token=e,this.width=t,"number"==typeof this.token?this.token>0?this.ev=function(e){var t=this.display;"false"===t.getAttribute("dirty")?t.value=e:"true"===t.getAttribute("dirty")&&(t.value+=e),t.setAttribute("dirty",!0),t.setAttribute("allowZero",!0)}:0===this.token&&(this.ev=function(e){var t=this.display;"true"===t.getAttribute("allowZero")&&(t.value+=e)}):"string"==typeof this.token&&("C"===this.token?this.ev=function(){var e=this.display;e.value="0",e.setAttribute("dirty",!1),e.setAttribute("allowZero",!1),e.setAttribute("numOps",0)}:"="===this.token?this.ev=function(){var e=this.display,t=this.calculator.calc(e.value);t.error?alert(t.errorMessage):e.value=t.result}:this.ev=function(e){var t=this.display,r=t.getAttribute("numOps");if(1===r){if("+"!==this.token||"-"!==this.token)return}else if(2===r)return;"0"===t.value?t.value=e:t.value+=e,t.setAttribute("dirty",!0),t.setAttribute("allowZero",!1),t.setAttribute("numOps",parseInt(t.getAttribute("numOps")+1,10))})}return e}(),a=function(){function e(e){this.calculator=new n.Calculator,this.container=e,this.generator=new r.HTMLElementGenerator,this.render()}return e.prototype.renderNumberOpCell=function(e){return this.generator.createElement(new s({type:"div",className:"mobile-sm-"+e.width,children:[new s({type:"input",value:e.token,className:"mobile-sm-12",attrs:[new i("type","button")],events:[new o("click",e.ev.bind(this,e.token)),new o("touch",e.ev.bind(this,e.token))]})]}))},e.prototype.renderDisplayRow=function(){return this.display=this.generator.createElement(new s({type:"input",id:"calculator-display",className:"mobile-sm-12",value:"0",attrs:[new i("readonly",(!0)),new i("type","text"),new i("dirty",(!1)),new i("allowZero",(!1)),new i("numOps",0)]})),this.generator.createElement(new s({type:"div",className:"group",children:[new s({type:"div",className:"mobile-sm-12",children:[this.display]})]}))},e.prototype.renderNumberOpRow=function(e){var t=this,r=new Array;return e.forEach(function(e){return r.push(t.renderNumberOpCell(e))}),this.generator.createElement(new s({type:"div",className:"group",children:r}))},e.prototype.render=function(){var e=u,t=this.generator.createElement(new s({type:"div",id:"calculator",className:"container",children:[this.renderDisplayRow(),this.renderNumberOpRow([new e("C",3),new e("(",3),new e(")",3),new e("/",3)]),this.renderNumberOpRow([new e(7,3),new e(8,3),new e(9,3),new e("x",3)]),this.renderNumberOpRow([new e(4,3),new e(5,3),new e(6,3),new e("-",3)]),this.renderNumberOpRow([new e(1,3),new e(2,3),new e(3,3),new e("+",3)]),this.renderNumberOpRow([new e(0,6),new e(".",3),new e("=",3)])]}));this.container.appendChild(t)},e}();t.CalculatorGUI=a}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i,s=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};n=[r,t],i=function(e,t){"use strict";var r=function(){function e(e,t){this.key=e,this.value=t}return e}();t.HTMLAttrKeyValuePair=r;var n=function(){function e(e,t){this.eventName=e,this.eventFn=t}return e}();t.HTMLEventKeyValuePair=n;var i=function(e){function t(t){e.call(this);var r;r="type",this.isDefinedWithValue(t[r])&&(this.type=t[r]),r="id",this.isDefinedWithValue(t[r])&&(this.id=t[r]),r="className",this.isDefinedWithValue(t[r])&&(this.className=t[r]),r="text",this.isDefinedWithValue(t[r])&&(this.text=t[r]),r="value",this.isDefinedWithValue(t[r])&&(this.value=t[r]),r="attrs",this.isDefinedWithValue(t[r])&&(this.attrs=t[r]),r="styles",this.isDefinedWithValue(t[r])&&(this.styles=t[r]),r="events",this.isDefinedWithValue(t[r])&&(this.events=t[r]),r="children",this.isDefinedWithValue(t[r])&&(this.children=t[r])}return s(t,e),t.prototype.isDefinedWithValue=function(e){return"undefined"!=typeof e&&null!==e},t}(Object);t.HTMLElementProperties=i,t.HTMLElementsTypes=["table","caption","tbody","thead","tfoot","tr","th","td","div","span","input","label","select"];var o=function(){function e(){}return e.prototype.isDefined=function(e){return"undefined"!=typeof e},e.prototype.isDefinedWithValue=function(e){return"undefined"!=typeof e&&null!==e},e.prototype.setElementText=function(e,t){this.isDefinedWithValue(e.innerText)?e.innerText=t:this.isDefinedWithValue(e.textContent)&&(e.textContent=t)},e.prototype.generate=function(e){var t=document.createElement(e.type);if(this.isDefinedWithValue(e.id)&&e.id.length>0&&(t.id=e.id),this.isDefinedWithValue(e.className)&&e.className.length>0&&(t.className=e.className),this.isDefinedWithValue(e.text)&&this.setElementText(t,e.text.toString()),this.isDefinedWithValue(e.value)){var r="value";t[r]=e.value}if(this.isDefinedWithValue(e.attrs)&&e.attrs.length>0)for(var n=0;n<e.attrs.length;++n){var s=e.attrs[n].key,o=e.attrs[n].value;s.length>0&&t.setAttribute(s,o.toString())}if(this.isDefinedWithValue(e.styles)&&e.styles.length>0)for(var n=0;n<e.styles.length;++n){var u=e.styles[n].key,a=e.styles[n].value;this.isDefinedWithValue(t.style[u])&&(t.style[u]=a)}if(this.isDefinedWithValue(e.events)&&e.events.length>0)for(var n=0;n<e.events.length;++n){var l=e.events[n].eventName,h=e.events[n].eventFn,c="on"+l;(this.isDefined(t[l])||this.isDefined(t[c]))&&"function"==typeof h&&(t[c]=h)}if(this.isDefinedWithValue(e.children)&&e.children.length>0)for(var n=0;n<e.children.length;++n){var p=null;p=e.children[n]instanceof i?this.generate(e.children[n]):e.children[n],this.isDefinedWithValue(p)&&t.appendChild(p)}return t},e.prototype.createElement=function(e){if(this.isDefinedWithValue(e.type)&&null!==t.HTMLElementsTypes[e.type]&&this.isDefinedWithValue(e))return this.generate(e)},e}();t.HTMLElementGenerator=o}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r,t,r(4)],i=function(e,t,r){"use strict";var n=function(){function e(){this.error=!1,this.errorMessage=null,this.result=0}return e.prototype.setError=function(e){this.error=!0,this.errorMessage="Error: "+e,this.result=null},e.prototype.reset=function(){this.error=!1,this.errorMessage=null,this.result=0},e}();t.EvalResult=n;var i=function(){function e(){this.result=new n}return e.prototype.orderOperationsGreater=function(e,t){return t>e},e.prototype.getTokenIndex=function(e){for(;this.expression[e]===r.CharUtils.WHITESPACE;)e+=1;return e},e.prototype.setTokenIndex=function(){for(;this.expression[this.counter]===r.CharUtils.WHITESPACE;)this.counter+=1},e.prototype.power=function(e,t){return t>1?e*this.power(e,t-1):e},e.prototype.getNextNumber=function(){var e=0,t=this.expression[this.counter],n="0";do e*=10,e+=t-n,this.counter+=1,this.setTokenIndex(),t=this.expression[this.counter];while(r.CharUtils.IsNumber(t));return e},e.prototype.getTokenType=function(e){return e===r.CharUtils.OPEN_BRACE?r.TOKEN_TYPES.START_EXP:e===r.CharUtils.CLOSE_BRACE?r.TOKEN_TYPES.END_EXP:r.CharUtils.IsOp(e)?r.TOKEN_TYPES.OP:r.CharUtils.IsNumber(e)?r.TOKEN_TYPES.NUMBER:r.TOKEN_TYPES.INVALID},e.prototype.getOpType=function(e){switch(e){case r.CharUtils.ADDER:return r.OP_TYPES.ADD;case r.CharUtils.SUBTRACTER:return r.OP_TYPES.SUBTRACT;case r.CharUtils.MULTIPLIER:return r.OP_TYPES.MULTIPLY;case r.CharUtils.MULTIPLIER2:return r.OP_TYPES.MULTIPLY;case r.CharUtils.DIVIDER:return r.OP_TYPES.DIVIDE;case r.CharUtils.EXPONENT:return r.OP_TYPES.POWER;case r.CharUtils.OPEN_BRACE:return r.OP_TYPES.NEW_EXPRESSION;default:return r.OP_TYPES.NO_OP}},e.prototype.performOp=function(e,t,n){var i;switch(null!==n&&(i="Performing Op:\t"+e.result+" "+n+" "+t.result+" = "),n){case r.CharUtils.ADDER:e.result+=t.result;break;case r.CharUtils.SUBTRACTER:e.result-=t.result;break;case r.CharUtils.MULTIPLIER:e.result*=t.result;break;case r.CharUtils.MULTIPLIER2:e.result*=t.result;break;case r.CharUtils.DIVIDER:e.result/=t.result;break;case r.CharUtils.EXPONENT:e.result=this.power(e.result,t.result);break;default:e.result=t.result}null!==n&&(i+=e.result,console.log(i))},e.prototype.parse=function(e){var t=null,i=null,s=null,o=!1,u=!1,a=0,l=0,h=new n,c=null,p=null,f=null;for(0===this.counter?o=this.expression[this.counter]===r.CharUtils.OPEN_BRACE:this.counter>1&&(o=this.expression[this.counter-1]===r.CharUtils.OPEN_BRACE);this.counter<this.expressionLen;)switch(this.setTokenIndex(),f=p,i=this.expression[this.counter],p=this.getTokenType(i)){case r.TOKEN_TYPES.START_EXP:if(this.counter+=1,h.reset(),h=this.parse(h),h.error)return h;if(this.expression[this.counter]!==r.CharUtils.CLOSE_BRACE)return h.setError("Missing closing parentheses"),h;if(o=!1,this.counter+=1,a=this.getTokenIndex(this.counter),s=this.expression[a],this.orderOperationsGreater(c,this.getOpType(s))){if(h=this.parse(h),h.error)return h;s===r.CharUtils.OPEN_BRACE&&(o=!1)}this.performOp(e,h,t);break;case r.TOKEN_TYPES.END_EXP:return e;case r.TOKEN_TYPES.OP:if(c=this.getOpType(i),f===r.TOKEN_TYPES.OP){if(l+=1,l>2)return e.setError("Too many consecutive operations"),e;if(i===r.CharUtils.ADDER)u=!1;else if(i===r.CharUtils.SUBTRACTER)u=!0;else if(i!==r.CharUtils.OPEN_BRACE)return e.setError("Illegal order of operations"),e}else l=1,t=i;this.counter+=1;break;case r.TOKEN_TYPES.NUMBER:if(h.reset(),h.result=this.getNextNumber(),u&&(h.result*=-1),a=this.getTokenIndex(this.counter),s=this.expression[a],this.orderOperationsGreater(c,this.getOpType(s))){if(h=this.parse(h),h.error)return h;s===r.CharUtils.OPEN_BRACE&&(o=!1)}this.performOp(e,h,t);break;default:return e.setError("Invalid token"),e}return o&&e.setError("Missing closing parentheses"),e},e.prototype.calc=function(e){return this.counter=0,this.expression=e,this.expressionLen=e.length,this.result=new n,this.parse(this.result)},e}();t.Calculator=i}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){var n,i;n=[r,t],i=function(e,t){"use strict";!function(e){e[e.INVALID=0]="INVALID",e[e.NUMBER=1]="NUMBER",e[e.OP=2]="OP",e[e.START_EXP=3]="START_EXP",e[e.END_EXP=4]="END_EXP"}(t.TOKEN_TYPES||(t.TOKEN_TYPES={}));t.TOKEN_TYPES;!function(e){e[e.NO_OP=0]="NO_OP",e[e.ADD=1]="ADD",e[e.SUBTRACT=1]="SUBTRACT",e[e.MULTIPLY=2]="MULTIPLY",e[e.DIVIDE=2]="DIVIDE",e[e.POWER=3]="POWER",e[e.NEW_EXPRESSION=4]="NEW_EXPRESSION"}(t.OP_TYPES||(t.OP_TYPES={}));var r=(t.OP_TYPES,function(){function e(){}return Object.defineProperty(e,"NUL",{get:function(){return"\0"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WHITESPACE",{get:function(){return" "},enumerable:!0,configurable:!0}),Object.defineProperty(e,"OPEN_BRACE",{get:function(){return"("},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CLOSE_BRACE",{get:function(){return")"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"EXPONENT",{get:function(){return"^"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"MULTIPLIER",{get:function(){return"*"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"MULTIPLIER2",{get:function(){return"x"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"DIVIDER",{get:function(){return"/"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ADDER",{get:function(){return"+"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"SUBTRACTER",{get:function(){return"-"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"NUMBERS",{get:function(){return["0","1","2","3","4","5","6","7","8","9"]},enumerable:!0,configurable:!0}),e.IsNumber=function(e){return this.NUMBERS.indexOf(e)>=0},e.IsNumber2=function(e){var t=e.charCodeAt(0);return t>=48&&t<=57},e.IsOp=function(e){return e===this.ADDER||e===this.SUBTRACTER||e===this.MULTIPLIER||e===this.MULTIPLIER2||e===this.DIVIDER||e===this.EXPONENT},e}());t.CharUtils=r}.apply(t,n),!(void 0!==i&&(e.exports=i))},function(e,t,r){r(6)},function(e,t){}]);